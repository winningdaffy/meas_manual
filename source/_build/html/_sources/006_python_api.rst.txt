Python API接口
==================

使用方法
-----------------

.. code-block:: python
    :linenos:  
    :emphasize-lines: 0
    :caption: 使用API接口
    :name: using_api

    import gcm
    gcm.start()


start
-----------------
开始测试

(a) 参数

    - 无参数

(b) 返回值

    - 无返回值


pause
-----------------
暂停测试

(a) 参数

    - 无参数

(b) 返回值

    - 无返回值


stop
-----------------
停止测试

(a) 参数

    - 无参数

(b) 返回值

    - 无返回值



add_device
-----------------
向试验中添加测试模块

(a) 参数

    - 设备名称，字符串
    - 设备序列号，整数
    - IP地址，字符串

(b) 返回值

    - 无返回值

save_to_file
-----------------
将试验保存到文件中

(a) 参数

    - 文件名，字符串

(b) 返回值

    - 无返回值

set_global_variable
--------------------------
设置全局变量

(a) 参数

    - 变量名，字符串
    - 变量值，字符串

(b) 返回值

    - 无返回值

create_default_signal
-----------------------------
根据添加设备创建默认信号量

(a) 参数

    - 无参数

(b) 返回值

    - 无返回值

get_path_name
-----------------
获取当前试验文件路径及名称

(a) 参数

    - 无参数

(b) 返回值

    - 试验文件的路径及名称，字符串

add_layout
-----------------
向试验中添加显示模板

(a) 参数

    - 显示模板文件名称，字符串

(b) 返回值

    - 无返回值

active_layout
-----------------
将显示模板设置为默认显示模板

(a) 参数

    - 默认显示模板文件名称，字符串

(b) 返回值

    - 无返回值

set_script_name_list
--------------------------
向试验中添加脚本

(a) 参数

    - 脚本文件名，字符串

(b) 返回值

    - 无返回值

dev_get_parameter
-------------------------
获取设备参数值

(a) 参数

    - 设备名称，字符串
    - 设备序列号，整数
    - 参数名，字符串

(b) 返回值

    - 参数值，（整数，浮点数，字符串，元组）

dev_set_parameter
---------------------------
设置设备参数值

(a) 参数

    - 设备名称，字符串
    - 设备序列号，整数
    - 参数名，字符串
    - 参数值，（整数，浮点数，字符串，元组）

(b) 返回值

    - 无返回值

dev_get_setting
-----------------
获取设备所有的参数配置，以xml格式返回

(a) 参数

    - 设备名称，字符串
    - 设备序列号，整数

(b) 返回值

    - 设备所有参数，xml格式的字符串

dev_write_to_flash
--------------------------
控制设备将当前参数写入Flash，实现掉电不丢失

(a) 参数

    - 设备名称，字符串
    - 设备序列号，整数

(b) 返回值

    - 无返回值

dev_upload_setting
--------------------------
控制设备上传所有参数

(a) 参数

    - 设备名称，字符串
    - 设备序列号，整数

(b) 返回值

    - 无返回值

dev_enable_calibration
---------------------------
控制设备进入标定模式，在此模式下不会对采集数据根据标定数据进行修正

(a) 参数

    - 设备名称，字符串
    - 设备序列号，整数

(b) 返回值

    - 无返回值

dev_disable_calibration
--------------------------
控制设备退出标定模式，对采集数据根据标定数据进行修正

(a) 参数

    - 设备名称，字符串
    - 设备序列号，整数

(b) 返回值

    - 无返回值

es1501_set_voltage
-----------------------
控制ES1501输出设定电压(此电压是标称电压，实际输出电压可能与此电压不同)

(a) 参数

    - 通道号，整数
    - 电压值，浮点数

(b) 返回值

    - 无返回值

es1501_get_voltage
--------------------------
获取ES1501当前输出实际电压值

(a) 参数

    - 通道号，整数
    - 电压值，浮点数

(b) 返回值

    - 实际输出电压值，对应标称电压值的实际电压值，浮点数

sa3101_set_calibration
---------------------------
将标定数据写入到SA3101中

(a) 参数

    - 设备序列号，整数
    - 通道号，整数
    - 系数k，浮点数
    - 系数b，浮点数

(b) 返回值

    - 无返回值

hw3021_set_calibration
---------------------------
将标定数据写入到3021中

(a) 参数

    - 设备序列号，整数
    - 通道号，整数
    - 测量范围，整数
    - 系数k，浮点数
    - 系数b，浮点数

(b) 返回值

    - 无返回值

hw3021_set_signal_type
---------------------------
设置3021通道的输入信号类型

(a) 参数

    - 设备序列号，整数
    - 通道号，整数
    - 信号类型，字符串(Voltage, IEPE, Current)

(b) 返回值

    - 无返回值

hw3021_set_voltage_range
---------------------------------
设置3021通道的输入电压量程

(a) 参数

    - 设备序列号，整数
    - 通道号，整数
    - 量程，字符串([-10V...+10V], [-1V...+1V], [-100mV...+100mV])

(b) 返回值

    - 无返回值

ui_plot
-----------------
画曲线图

(a) 参数

    - 数据系列，元组

(b) 返回值

    - 无返回值

ui_dialog
-----------------
弹出对话框

(a) 参数

    - 对话框标题，字符串
    - 对话框文本，字符串

(b) 返回值

    - 无返回值

get_data
-----------------
获取最新的内部数据，包括采集数据、计算结果等

(a) 参数

    - 数据名称，字符串

(b) 返回值

    - 元组(时间戳，数据，坐标数据)

get_axis_name
-----------------
获取数据名称对应的坐标轴名称

(a) 参数

    - 数据名称，字符串

(b) 返回值

    - 坐标轴名称，字符串


set_data
-----------------
将数据写入到软件中

(a) 参数

    - 数据名称，字符串
    - 时间戳，64位整数
    - 坐标轴名称，字符串
    - 数据值，元组
    - 数据类型，整数。可选值如下，多个值可以用 **或** 组合

        - DT_CHAR, 字符串
        - DT_INT, 整数
        - DT_FLOAT, 浮点数
        - DT_VALUE, 数值
        - DT_DICT, 字典
        - DT_CURVE, 一维数据组
        - DT_MAP, 二维数据组
        - DT_CA, 基于角度数据
        - DT_TIME, 基于时间数据
        - DT_FREQ, 基于频率数据

(b) 返回值

    - 无返回值

sleep
-----------------
休眠设定时间

(a) 参数

    - 休眠时间，整数，单位ms

(b) 返回值

    - 无返回值

 